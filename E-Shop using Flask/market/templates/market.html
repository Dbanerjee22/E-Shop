{% extends 'base.html'%}

{% block title %}
    Market Page
{% endblock %}
{% block content %}

    <div class="row style="margin-top:20px; margin-left:20px">
      <div class="col-8">
          <h3>Available items on the Market</h3>
          <br>
          <table class="table table-hover table-dark">
               <thead>
                  <tr>
                      <!-- Your Columns HERE -->
                      <th scope="col">ID</th>
                      <th scope="col">Name</th>
                      <th scope="col">Category</th>
                      <th scope="col">Barcode</th>
                      <th scope="col">Price</th>
                      <th scope="col">Options</th>
                  </tr>
              </thead>
                <tbody>
                  <!-- Your rows inside the table HERE: -->
                  {% for item in items %}
                  {% include 'includes/items_modals.html' %}
                      <tr>
                          <td>{{ item.id }}</td>
                          <td>{{ item.name }}</td>
                          <td>{{ item.category }}</td>
                          <td>{{ item.barcode }}</td>
                          <td>{{ item.price }}$</td>
                           <td>
                               <button class="btn btn-outline btn-info" data-toggle="modal" data-target="#Modal-MoreInfo-{{ item.id }}">More Info</button>
                               <button class="btn btn-outline btn-success" data-toggle="modal" data-target="#Modal-PurchaseConfirm-{{ item.id }}">Purchase this item</button>
                           </td>
                      </tr>
                  {% endfor %}

                  </tbody>
          </table>
       </div>
          <div class="col-4">
          <h2>User bought Items</h2>
               <h4>Purchased Items</h4>
               <br> 
               <div class="row">
                   {% for owned_item in owned_items %}
                   {% include 'includes/owned_items_modals.html' %}
                    <div style="margin-bottom: 5px" class="card text-center bg-dark">
                         <div class="card-body">
                             <h5 class="card-title">{{ owned_item.name }}</h5>
                             <button type="button" class="btn btn-outline-danger" style="margin-bottom: 5px"
                                     data-toggle="modal" data-target="#Modal-SellingConfirm-{{ owned_item.id}}">
                                 Sell this Item
                             </button>
                             <p class="card-text"><strong>
                                 Cost of the Item {{ owned_item.price }}$
                             </strong></p>
                         </div>
                    </div>                   
                   {% endfor %}
               </div>
          </div>
    </div>   


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->

  <style>
      body {
          background-color: #212121;
          color: white
      }
  </style>
{% endblock %}